<ion-grid class="animated"
  [class.slideInRight]="isNext"
  [class.slideInLeft]="isBack">
  <ion-row class="ion-justify-content-center ion-align-items-center" *ngIf="!profile">
    <ion-col size="auto">
      <p class="title-text ion-text-capitalize">Personal Details</p>
    </ion-col>
  </ion-row>
  <ion-row class="ion-justify-content-center ion-align-items-center">
    <ion-col size="auto">
      <p>Name</p>
      <ion-item lines="none" class="item-input">
        <ion-input #nameinput
          placeholder="Your Name" 
          maxLength="20" 
          debounce="300" 
          [value]="welcomeService?.basicInfo?.name" 
          (ionChange)="setName($event)">
          <ion-icon name="person-outline"></ion-icon>
        </ion-input>
      </ion-item>
      <p class="p-error" [class.p-error-active]="welcomeService?.isNameError">{{ welcomeService?.nameError }}</p>
    </ion-col>

    <ion-col size="auto">
      <p>Gender</p>
      <ion-item lines="none" class="item-input item-gender">
        <ion-button [class.bt-gender-active]="welcomeService?.basicInfo?.gender === 'man'"
          size="large" fill="outline" class="bt-gender" (click)="setGender('man')">
          <p>Male</p>
        </ion-button>
        <ion-button [class.bt-gender-active]="welcomeService?.basicInfo?.gender === 'woman'"
          size="large" fill="outline" class="bt-gender" (click)="setGender('woman')">
          <p>Female</p>
        </ion-button>
        <ion-button [class.bt-gender-active]="welcomeService?.basicInfo?.gender === 'other'"
          size="large" fill="outline" class="bt-gender" (click)="setGender('other')">
          <p>Other</p>
        </ion-button>
      </ion-item>
      <p class="p-error"[class.p-error-active]="welcomeService?.isGenderError">{{ welcomeService?.genderError }}</p>
    </ion-col>
  </ion-row>

  <ion-row class="ion-justify-content-center ion-align-items-center">
    <ion-col size="auto">
      <p>Email</p>
      <ion-item lines="none" class="item-input">
        <ion-input 
          type="email" 
          inputmode="email" 
          placeholder="Your Email Address"
          debounce="300" 
          [value]="welcomeService?.basicInfo?.email" 
          (ionChange)="setEmail($event)">
          <ion-icon name="mail-outline"></ion-icon>
        </ion-input>
      </ion-item>
      <p class="p-error"[class.p-error-active]="welcomeService?.isEmailError">{{ welcomeService?.emailError }}</p>
    </ion-col>

    <ion-col size="auto">
      <p>Birthday</p>
      <ion-item lines="none" class="item-input">
        <ion-icon size="small" name="calendar-outline"></ion-icon>
        <ion-datetime
          displayFormat="MM DD YY" 
          placeholder="Select Date"
          min="1900" max="2007"
          [value]="welcomeService?.basicInfo?.birthday"
          [pickerOptions]="customPickerOptions"
          (ionChange)="setBirthday($event)">
        </ion-datetime>
      </ion-item>
      <p class="p-error" [class.p-error-active]="welcomeService?.isBirthdayError">{{ welcomeService?.birthdayError }}</p>
    </ion-col>
  </ion-row>

  <ion-row class="ion-justify-content-center ion-align-items-center">
    <ion-col size="auto">
      <p>{{ welcomeService?.profilePhotoText }}</p>
      <ng-container *ngIf="cropImgMode">
        <ion-button id="load-photo" color="medium" fill="outline" (click)="selectPhotoButton()">
          <ion-icon name="image-outline"></ion-icon>
          <p>Select Photo</p>
        </ion-button>
        <p class="p-error">Invalid photo</p>
        <input
          id="file-chip" 
          type="file" 
          class="input-select-photo" 
          (change)="selectPhoto($event?.target?.files)">
      </ng-container>
    </ion-col>
  </ion-row>

  <ion-row class="ion-justify-content-center ion-align-items-center">
    <ion-col size="auto">
      <div id="col-photo" *ngIf="cropImgMode">
        <ion-spinner name="crescent" *ngIf="savingMode"></ion-spinner>
      <ion-button *ngIf="!savingMode && welcomeService?.basicInfo?.profile_img_url"
        class="bt-rm" color="medium" fill="clear" (click)="removeProfilePhoto()">
        <ion-icon slot="icon-only" name="close-outline"></ion-icon>
      </ion-button>
      </div>
    
      <div class="img-container" *ngIf="!cropImgMode && welcomeService?.basicInfo?.profile_img_url">
        <ion-button class="bt-rm" color="medium" fill="clear" (click)="removeProfilePhoto()">
          <ion-icon slot="icon-only" name="close-outline"></ion-icon>
        </ion-button>
        <img class="p-img" [src]="welcomeService?.basicInfo?.profile_img_url" crossorigin="anonymous">
      </div>
    </ion-col>
  </ion-row>

  <ion-row *ngIf="!profile"
    class="row-padding ion-justify-content-center ion-align-items-center">
    <ion-col size="auto">
      <ion-button [disabled]="welcomeService?.isDisableNextButton" (click)="nextStep()">Continue</ion-button>
    </ion-col>
  </ion-row>
  
</ion-grid>