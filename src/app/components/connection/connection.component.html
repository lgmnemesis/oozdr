<ion-card 
  [button]="connection?.isNewMatch" 
  (click)="cardClicked()">
  <ion-item lines="full" class="i-title">
    <ion-avatar *ngIf="connection?.basicInfo?.profile_img_url"
      slot="start" [class.active-animation]="connection?.isNewMatch">
      <img [src]="connection?.basicInfo?.profile_img_url" alt="profile image" crossorigin="anonymous">
    </ion-avatar>
    <ion-icon *ngIf="!connection?.basicInfo?.profile_img_url"
      name="person-circle-outline" slot="start" color="primary">
    </ion-icon>
    <ion-label color="primary" class="bold-text ion-text-wrap">{{ connection?.basicInfo?.name }}</ion-label>
  </ion-item>

  <div class="card-content">

    <ng-container *ngIf="!connection?.isMatched">
      <ion-item lines="none">
        <ion-icon name="call-outline" slot="start" color="success"></ion-icon>
        <ion-label class="ion-text-wrap">{{ connection?.basicInfo?.mobile }}</ion-label>
      </ion-item>
      <ion-item lines="none">
        <ion-icon name="time-outline" slot="start" color="success"></ion-icon>
        <ion-label class="ion-text-wrap">Added on {{ connection?.createdAt?.toDate() | date }}</ion-label>
      </ion-item>
    </ng-container>

    <ng-container *ngIf="connection?.isNewMatch">
      confuckyoulation!
    </ng-container>

  </div>

  <ion-item lines="none" *ngIf="!connection?.isMatched">
    <ion-chip (click)="presentDisconnectConfirm()"
      color="main" slot="start">
      <ion-icon name="heart-dislike-outline"></ion-icon>
      <ion-label>Disconnect</ion-label>
    </ion-chip>
    <ion-chip
      color="secondary" slot="end">
      <ion-icon name="create-outline"></ion-icon>
      <ion-label>Edit</ion-label>
    </ion-chip>
  </ion-item>
</ion-card>