<ion-card 
  [button]="connection?.isNewMatch" 
  (click)="cardClicked()">
  <ion-item lines="none" class="i-title">
    <ion-avatar *ngIf="connection?.basicInfo?.profile_img_url"
      slot="start" [class.active-animation]="connection?.isNewMatch">
      <img [src]="connection?.basicInfo?.profile_img_url" alt="profile image" crossorigin="anonymous">
    </ion-avatar>
    <ion-icon *ngIf="!connection?.basicInfo?.profile_img_url"
      name="person-circle-outline" slot="start" color="primary">
    </ion-icon>
    <ion-label color="primary" class="bold-text ion-text-wrap ion-text-capitalize">
      {{ connection?.basicInfo?.name }}
    </ion-label>
  </ion-item>

  <div class="card-content">

    <ng-container *ngIf="!connection?.isMatched">
      <ion-item lines="none">
        <ion-icon name="call-outline" slot="start" color="success"></ion-icon>
        <ion-label class="ion-text-wrap">{{ connection?.basicInfo?.mobile }}</ion-label>
      </ion-item>
      <ion-item lines="none" *ngIf="connection?.basicInfo?.email">
        <ion-icon name="mail-outline" slot="start" color="success"></ion-icon>
        <ion-label class="ion-text-wrap">{{ connection?.basicInfo?.email }}</ion-label>
      </ion-item>
      <ion-item lines="none">
        <ion-icon name="time-outline" slot="start" color="success"></ion-icon>
        <ion-label class="ion-text-wrap">Added on {{ connection?.createdAt?.toDate() | date }}</ion-label>
      </ion-item>
    </ng-container>

    <ng-container *ngIf="connection?.isNewMatch">
      <ion-item lines="none">
        <ion-icon name="bonfire-outline" slot="start" color="danger"></ion-icon>
        <ion-label color="danger" class="ion-text-wrap">Congratulations! it's a match.</ion-label>
      </ion-item>
      <p class="ion-text-center p-s-theme">
        <span class="color-primary ion-text-capitalize">{{ connection?.basicInfo?.name }}</span>
        was looking for you as well!
      </p>
      <p class="ion-text-center p-s-theme">Go ahead and reconnect. start chatting.<p> 
      <p class="ion-text-center p-s-theme color-primary ion-text-nowrap">Good luck!</p>
    </ng-container>

  </div>

  <ion-item lines="none" *ngIf="!connection?.isMatched">
    <ion-chip (click)="presentDisconnectConfirm()"
      color="main" slot="start">
      <ion-icon name="heart-dislike-outline"></ion-icon>
      <ion-label>Disconnect</ion-label>
    </ion-chip>
    <ion-chip (click)="edit()"
      color="secondary" slot="end">
      <ion-icon name="create-outline"></ion-icon>
      <ion-label>Edit</ion-label>
    </ion-chip>
  </ion-item>
</ion-card>